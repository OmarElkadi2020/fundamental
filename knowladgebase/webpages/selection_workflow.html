<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Investment Workflow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .step-card {
            transition: all 0.3s ease-in-out;
        }
        .step-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .step-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
        }
        .step-card.active .step-details {
            max-height: 1000px; /* Large enough to not clip content */
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .stage-line {
            width: 2px;
            background-color: #cbd5e1; /* slate-300 */
            flex-shrink: 0;
        }
        .stage-dot {
            flex-shrink: 0;
        }
        /* Simple rotation for the chevron */
        .step-card.active .chevron {
            transform: rotate(90deg);
        }
        .chevron {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="antialiased text-slate-700">

    <div class="container mx-auto px-4 py-8 md:py-12">
        <header class="text-center mb-12">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-800">Architects of Alpha: An Interactive Workflow</h1>
            <p class="mt-2 text-lg text-slate-600 max-w-3xl mx-auto">A synthesized investment framework combining the wisdom of William O'Neil and Peter Lynch. Click on each step to expand.</p>
        </header>

        <main id="workflow-container" class="max-w-4xl mx-auto">
            <!-- Workflow will be dynamically generated here -->
        </main>

        <footer class="text-center mt-12 text-sm text-slate-500">
            <p>This framework is for educational purposes only and not financial advice. All investing involves risk.</p>
        </footer>
    </div>

    <script>
    // --- Data Store ---
    // This object contains the entire workflow structure.
    // It's based on the analysis of the provided documents.
    const workflowData = {
        title: "Architects of Alpha: Investment Workflow",
        stages: [
            {
                stage: 1,
                title: "Phase 1: Idea Generation & Qualitative Screening",
                description: "Build a universe of potential investments and perform initial 'scuttlebutt' research to understand the business story.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7" /></svg>`,
                steps: [
                    {
                        title: "Define Investment Universe",
                        details: "Start with a broad list of companies. Sources can include personal observation ('buy what you know'), industry news, or broad market screens.",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1h-6a1 1 0 01-1-1v-6z" /></svg>`,
                    },
                    {
                        title: "Qualitative 'Scuttlebutt' (Lynch/Fisher)",
                        details: "Investigate the company's story. Is the business simple to understand? Do you like their products? Is management trustworthy and are insiders buying?",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" /></svg>`,
                        criteria: [
                            "Simple, understandable business model.",
                            "Strong brand and consumer appeal (a 'dull or ridiculous name' is a plus).",
                            "Favorable industry trends and competitive moat.",
                            "Catalyst: New products, new management, industry shifts.",
                            "Insider buying is a strong positive signal."
                        ],
                        data_sources: ["Company Investor Relations sites", "Customer/Employee reviews (e.g., Amazon, Glassdoor)", "Trade publications", "SEC EDGAR for insider filings"]
                    }
                ]
            },
            {
                stage: 2,
                title: "Phase 2: Rigorous Quantitative & Technical Analysis",
                description: "Apply the data-driven CAN SLIM criteria to filter for high-growth stocks with strong market momentum.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>`,
                steps: [
                    {
                        title: "C & A: Earnings Growth",
                        details: "Look for significant recent and annual earnings growth. This is the primary driver of stock prices.",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>`,
                        criteria: [
                            "C: Current Quarterly EPS Growth > 25%",
                            "A: Annual EPS Growth > 25% for last 3-5 years",
                            "Positive earnings/sales surprises in recent quarters.",
                            "Return on Equity (ROE) > 17%."
                        ],
                        data_sources: ["Yahoo Finance", "SEC Filings (10-Q, 10-K)", "MarketWatch", "Zacks"]
                    },
                    {
                        title: "N, S, L: The Company's Story & Status",
                        details: "Focus on companies with a strong narrative, market leadership, and favorable supply/demand dynamics.",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118L2.98 9.11c-.783-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" /></svg>`,
                        criteria: [
                            "N: New products, new management, or breaking into new highs from a solid chart base.",
                            "S: Significant demand for a limited number of shares (look for share buybacks).",
                            "L: A leader in its industry with a high Relative Strength (RS) Rating (ideally > 80)."
                        ],
                        data_sources: ["Investor's Business Daily (for RS Rating)", "Company press releases", "TradingView/StockCharts for price highs"]
                    },
                    {
                        title: "I & M: Institutional Sponsorship & Market Direction",
                        details: "Ensure smart money is buying the stock and that the overall market is in a healthy uptrend.",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z" /></svg>`,
                        criteria: [
                            "I: An increasing number of institutional sponsors (mutual funds) in recent quarters.",
                            "M: The overall market (S&P 500, Nasdaq) is in a confirmed uptrend (above 50 & 200-day moving averages)."
                        ],
                        data_sources: ["Yahoo Finance (for fund ownership)", "MarketSmith", "Major financial news outlets for market analysis"]
                    }
                ]
            },
            {
                stage: 3,
                title: "Phase 3: Synthesis & Decision",
                description: "Synthesize all data and choose an investment path based on your risk tolerance and the stock's profile.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547a2 2 0 00-.547 1.806l.477 2.387a6 6 0 00.517 3.86l.158.318a6 6 0 00.517 3.86l2.387.477a2 2 0 001.806.547a2 2 0 00.547-1.806l-.477-2.387a6 6 0 00-.517-3.86l-.158-.318a6 6 0 01-.517-3.86l-.477-2.387a2 2 0 01.547-1.806zM15.428 4.572a2 2 0 001.022.547l2.387.477a6 6 0 003.86-.517l.318-.158a6 6 0 013.86-.517L19.95 5.79a2 2 0 001.806-.547a2 2 0 00.547-1.806L19.827.85a6 6 0 00-3.86-.517L15.65.175a6 6 0 00-3.86-.517L9.403.477a2 2 0 00-1.806-.547a2 2 0 00-.547 1.806l.477 2.387a6 6 0 00.517 3.86l.158.318a6 6 0 01.517 3.86l.477 2.387a2 2 0 001.806.547a2 2 0 00.547-1.806l-.477-2.387a6 6 0 00-.517-3.86l-.158-.318a6 6 0 01-.517-3.86L4.572 4.572z" /></svg>`,
                steps: [
                    {
                        title: "Valuation Check (PEG Ratio)",
                        details: "Use the Price/Earnings-to-Growth ratio as a 'reasonable price' check. This is a favorite tool of Peter Lynch to avoid overpaying for growth.",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l-3-1m-3 1l-6 2m6 2l3 9M12 15l6 2" /></svg>`,
                        criteria: ["PEG Ratio <= 1.5 is good.", "PEG Ratio <= 1.0 is ideal for the Hybrid path."],
                        data_sources: ["Yahoo Finance", "Zacks", "Finviz"]
                    },
                    {
                        title: "Choose Your Investment Path",
                        details: "Select one of three distinct buy-and-manage strategies based on the data and your personal investment philosophy.",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" /></svg>`,
                        paths: [
                            {
                                name: "Path A: The Story Investor (Lynch)",
                                focus: "Qualitative Story",
                                buy_trigger: "Compelling long-term narrative, even if some quantitative metrics are weak.",
                                risk_management: "Sell when the story breaks or fundamentals deteriorate."
                            },
                             {
                                name: "Path B: The CAN SLIM Trader (O'Neil)",
                                focus: "Technicals & Momentum",
                                buy_trigger: "Breakout from a valid chart base on high volume.",
                                risk_management: "Absolute, non-negotiable 7-8% stop-loss from purchase price."
                            },
                             {
                                name: "Path C: The Hybrid Owner",
                                focus: "Fundamentals & Technicals",
                                buy_trigger: "Meets fundamental checks (e.g., PEG <= 1.0) AND the overall market is in a confirmed uptrend.",
                                risk_management: "Use technical breakdowns (e.g., close below 200-day MA) as a trigger for fundamental re-evaluation."
                            }
                        ]
                    }
                ]
            },
            {
                stage: 4,
                title: "Phase 4: Execution & Monitoring",
                description: "Execute the buy order and actively monitor the position according to your chosen path's rules.",
                icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>`,
                steps: [
                    {
                        title: "Position Sizing & Execution",
                        details: "Determine how much to invest based on your portfolio rules and conviction level. Place the buy order.",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" /></svg>`,
                    },
                    {
                        title: "Ongoing Monitoring & Sell Discipline",
                        details: "The work isn't over after you buy. Continuously review the position, the company's progress, and the overall market. Be ready to sell based on your pre-defined rules for taking profits or cutting losses.",
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>`,
                    }
                ]
            }
        ]
    };

    // --- Render Logic ---
    const workflowContainer = document.getElementById('workflow-container');

    function renderWorkflow() {
        // Clear existing content
        workflowContainer.innerHTML = '';
        
        workflowData.stages.forEach((stage, stageIndex) => {
            const stageElement = document.createElement('div');
            stageElement.className = 'flex';
            
            // Create the timeline sidebar (dot and line)
            const timelineSidebar = `
                <div class="flex flex-col items-center mr-6">
                    <div class="bg-sky-600 rounded-full p-2 stage-dot">
                        ${stage.icon}
                    </div>
                    ${stageIndex < workflowData.stages.length - 1 ? '<div class="stage-line h-full"></div>' : ''}
                </div>
            `;
            
            // Create the content for the stage
            let stageContent = `<div class="flex-grow pb-12">`;
            stageContent += `
                <h2 class="text-2xl font-bold text-slate-800 mb-1">${stage.title}</h2>
                <p class="text-slate-600 mb-6">${stage.description}</p>
            `;

            // Add steps for the stage
            stage.steps.forEach(step => {
                stageContent += createStepHTML(step);
            });

            stageContent += `</div>`;
            
            stageElement.innerHTML = timelineSidebar + stageContent;
            workflowContainer.appendChild(stageElement);
        });

        addEventListeners();
    }

    function createStepHTML(step) {
        const hasDetails = step.criteria || step.data_sources || step.paths;

        let detailsHTML = '<div class="step-details px-4 text-left">';
        if(step.criteria) {
            detailsHTML += '<h4 class="font-semibold text-slate-700 mb-2">Key Criteria:</h4>';
            detailsHTML += '<ul class="list-disc list-inside space-y-1 text-slate-600">';
            step.criteria.forEach(c => { detailsHTML += `<li>${c}</li>`; });
            detailsHTML += '</ul>';
        }
        if(step.data_sources) {
            detailsHTML += `<h4 class="font-semibold text-slate-700 mt-4 mb-2">Potential Data Sources:</h4>`;
            detailsHTML += '<p class="text-slate-600">';
            detailsHTML += step.data_sources.join(', ');
            detailsHTML += '</p>';
        }
        if(step.paths) {
            detailsHTML += '<h4 class="font-semibold text-slate-700 mt-4 mb-3">Decision Paths:</h4>';
            detailsHTML += '<div class="space-y-4">';
            step.paths.forEach(p => {
                detailsHTML += `
                    <div class="bg-slate-100 p-3 rounded-lg border border-slate-200">
                        <h5 class="font-bold text-sky-700">${p.name}</h5>
                        <p class="text-sm mt-1"><strong class="font-semibold">Focus:</strong> ${p.focus}</p>
                        <p class="text-sm"><strong class="font-semibold">Buy Trigger:</strong> ${p.buy_trigger}</p>
                        <p class="text-sm"><strong class="font-semibold">Risk Management:</strong> ${p.risk_management}</p>
                    </div>
                `;
            });
            detailsHTML += '</div>';
        }
        detailsHTML += '</div>';

        return `
            <div class="step-card bg-white rounded-lg border border-slate-200 shadow-sm mb-4 cursor-pointer overflow-hidden">
                <div class="p-4 flex items-center justify-between">
                    <div class="flex items-center">
                        <div class="mr-4">${step.icon}</div>
                        <div>
                            <h3 class="font-semibold text-lg text-slate-800">${step.title}</h3>
                            <p class="text-sm text-slate-500">${step.details}</p>
                        </div>
                    </div>
                    ${hasDetails ? `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400 chevron" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>` : ''}
                </div>
                ${hasDetails ? detailsHTML : ''}
            </div>
        `;
    }

    function addEventListeners() {
        const cards = document.querySelectorAll('.step-card');
        cards.forEach(card => {
            // Check if the card has details to expand
            if (card.querySelector('.step-details')) {
                card.addEventListener('click', () => {
                    card.classList.toggle('active');
                });
            } else {
                // If no details, remove the cursor-pointer class as it implies interactivity
                card.style.cursor = 'default';
            }
        });
    }

    // Initial render on page load
    document.addEventListener('DOMContentLoaded', renderWorkflow);

    </script>
</body>
</html>
